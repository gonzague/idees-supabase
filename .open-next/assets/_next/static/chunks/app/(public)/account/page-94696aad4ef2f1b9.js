(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(5155),a=r(2115),n=r(7531);let o=a.forwardRef((e,t)=>{let{className:r,variant:a="default",size:o="default",...i}=e;return(0,s.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",{"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-indigo-500/25":"default"===a,"border border-slate-200 dark:border-slate-700 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-700 hover:text-slate-900 dark:text-gray-100 hover:border-slate-300 dark:hover:border-slate-600":"outline"===a,"hover:bg-slate-100 dark:hover:bg-gray-800 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-white":"ghost"===a,"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-500/25":"destructive"===a},{"h-10 px-4 py-2":"default"===o,"h-8 px-3 text-sm":"sm"===o,"h-12 px-6 text-lg":"lg"===o,"h-10 w-10":"icon"===o},r),ref:t,...i})});o.displayName="Button"},5142:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(5155),a=r(2115),n=r(7531);let o=a.forwardRef((e,t)=>{let{className:r,error:a,...o}=e;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("input",{className:(0,n.cn)("flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2","text-sm text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",a&&"border-red-500 focus:ring-red-400",r),ref:t,...o}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:a})]})});o.displayName="Input"},5557:(e,t,r)=>{"use strict";r.d(t,{AccountForm:()=>h});var s=r(5155),a=r(2115),n=r(6948),o=r(3998),i=r(5142),l=r(926);let d=(0,l.createServerReference)("40a8fed4943c1e5d5f9e598c54f153bfa9d8d06a1d",l.callServer,void 0,l.findSourceMapURL,"updateAvatar"),c=(0,l.createServerReference)("00541b95dbac1dc31af27b5da1e83733d47e5ce69b",l.callServer,void 0,l.findSourceMapURL,"removeAvatar");var u=r(9516);function m(e){var t;let{user:r}=e,n=(0,u.t)(),[i,l]=(0,a.useTransition)(),[m,g]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),v=(0,a.useRef)(null),b=r.avatar_url||null,f=p||b;return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[f?(0,s.jsx)("img",{src:f,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"}):(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600 dark:text-indigo-400 text-2xl font-bold border-2 border-gray-200 dark:border-gray-700",children:(null==(t=r.username)?void 0:t.charAt(0).toUpperCase())||"?"}),i&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{ref:v,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(!r)return;if(r.size>5242880)return void g("Le fichier est trop volumineux (max 5 Mo)");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(r.type))return void g("Type de fichier non autoris\xe9");g(null),h(URL.createObjectURL(r));let s=new FormData;s.append("avatar",r),l(async()=>{let e=await d(s);e.success||g(e.error||"\xc9chec du t\xe9l\xe9chargement"),h(null)})},className:"hidden"}),(0,s.jsx)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=v.current)?void 0:e.click()},disabled:i,children:n.account.uploadAvatar}),b&&(0,s.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{g(null),l(async()=>{let e=await c();e.success||g(e.error||"\xc9chec de la suppression")})},disabled:i,className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:n.account.removeAvatar}),m&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:m})]})]})}let g=(0,l.createServerReference)("4071cdd9954b2f407e6621cf5f75a8dfbcdac5fe3d",l.callServer,void 0,l.findSourceMapURL,"updateUsername"),p=(0,l.createServerReference)("70c44d372de73be5335a21cfc444cc8531cd30c44a",l.callServer,void 0,l.findSourceMapURL,"updatePassword");function h(e){let{user:t}=e,r=(0,u.t)(),[l,d]=(0,a.useTransition)(),[c,h]=(0,a.useState)(null),[v,b]=(0,a.useState)(t.username||""),[f,x]=(0,a.useState)(""),[w,y]=(0,a.useState)(""),[S,j]=(0,a.useState)("");return(0,s.jsxs)("div",{className:"space-y-6",children:[c&&(0,s.jsx)("div",{className:"p-3 rounded-md text-sm ".concat("success"===c.type?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400"),children:c.text}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:r.account.profile})}),(0,s.jsxs)(n.Wu,{className:"space-y-6",children:[(0,s.jsx)(m,{user:t}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v!==t.username&&(h(null),d(async()=>{let e=await g(v||"");e.success?h({type:"success",text:r.account.saved}):h({type:"error",text:e.error||r.account.errors.updateFailed})}))},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.account.usernameLabel}),(0,s.jsx)(i.p,{id:"username",value:v,onChange:e=>b(e.target.value),minLength:3,maxLength:50,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.account.emailLabel}),(0,s.jsx)(i.p,{value:t.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas \xeatre modifi\xe9 pour le moment"})]}),(0,s.jsx)(o.$,{type:"submit",disabled:l||v===t.username,children:l?r.account.saving:r.account.saveChanges})]})]})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:r.account.changePassword})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f&&w&&S&&(h(null),d(async()=>{let e=await p(f,w,S);e.success?(h({type:"success",text:r.account.saved}),x(""),y(""),j("")):h({type:"error",text:e.error||r.account.errors.updateFailed})}))},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.account.currentPassword}),(0,s.jsx)(i.p,{id:"currentPassword",type:"password",value:f,onChange:e=>x(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.account.newPassword}),(0,s.jsx)(i.p,{id:"newPassword",type:"password",value:w,onChange:e=>y(e.target.value),minLength:8,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.account.confirmNewPassword}),(0,s.jsx)(i.p,{id:"confirmPassword",type:"password",value:S,onChange:e=>j(e.target.value),minLength:8,required:!0})]}),(0,s.jsx)(o.$,{type:"submit",disabled:l||!f||!w||!S,children:l?r.account.saving:r.account.changePassword})]})})]})]})}},6948:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>i,Zp:()=>n,aR:()=>o});var s=r(5155);r(2115);var a=r(7531);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-gray-800 shadow-sm transition-all duration-200 hover:shadow-md",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("h3",{className:(0,a.cn)("text-xl font-semibold leading-none tracking-tight text-slate-900 dark:text-white",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("p-6 pt-0",t),...r})}},7531:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},8693:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,5557))},9516:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});let s={fr:{site:{name:"Id\xe9es",description:"Proposez et votez pour des sujets"},nav:{admin:"Administration",signIn:"Connexion",signOut:"D\xe9connexion"},home:{title:"Suggestions de sujets",subtitle:"Aidez \xe0 fa\xe7onner le contenu que vous souhaitez voir.",suggestTopic:"Proposer un sujet",noSuggestions:"Aucune suggestion pour le moment. Soyez le premier \xe0 proposer un sujet !",filterAll:"Tous",filterOpen:"Ouvert",filterDone:"Termin\xe9",sortBy:"Trier par :",topVoted:"Plus vot\xe9s",newest:"R\xe9cents"},suggestion:{backToList:"← Retour aux suggestions",by:"par",votes:"votes",contentAvailable:"Contenu disponible",status:{open:"Ouvert",done:"Termin\xe9"}},comments:{title:"Commentaires",placeholder:"Ajouter un commentaire...",submit:"Commenter",submitting:"Envoi...",empty:"Aucun commentaire pour le moment",loginToComment:"Connectez-vous pour commenter",deleteTitle:"Supprimer le commentaire",deleteConfirm:"Cette action est irr\xe9versible. Voulez-vous vraiment supprimer ce commentaire ?",deleteButton:"Supprimer",cancelButton:"Annuler",edited:"modifi\xe9"},form:{title:"Proposer un sujet",titleLabel:"Titre",titlePlaceholder:"Quel sujet aimeriez-vous voir abord\xe9 ?",titleHint:"5-200 caract\xe8res",descriptionLabel:"Description (optionnel)",descriptionPlaceholder:"Ajoutez plus de d\xe9tails sur votre suggestion...",descriptionHint:"Max 2000 caract\xe8res",submit:"Soumettre",submitting:"Envoi...",relatedContent:"Ce sujet vous int\xe9resse ?",searching:"Recherche...",existingSuggestions:"Suggestions similaires",existingContent:"Contenu existant",relatedContentHint:"Votez pour une suggestion existante ou soumettez la v\xf4tre si elle est diff\xe9rente."},auth:{signIn:"Connexion",signUp:"Cr\xe9er un compte",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",username:"Nom d'utilisateur",cancel:"Annuler",loading:"Chargement...",noAccount:"Pas de compte ? Inscrivez-vous",hasAccount:"D\xe9j\xe0 un compte ? Connectez-vous"},account:{title:"Mon compte",profile:"Profil",changeAvatar:"Changer l'avatar",uploadAvatar:"T\xe9l\xe9charger une image",removeAvatar:"Supprimer",usernameLabel:"Nom d'utilisateur",emailLabel:"Email",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",confirmNewPassword:"Confirmer le nouveau mot de passe",saveChanges:"Enregistrer les modifications",saving:"Enregistrement...",saved:"Modifications enregistr\xe9es",changePassword:"Changer le mot de passe",dangerZone:"Zone de danger",deleteAccount:"Supprimer le compte",errors:{usernameTooShort:"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res",usernameTooLong:"Le nom d'utilisateur doit contenir moins de 50 caract\xe8res",invalidEmail:"Email invalide",passwordTooShort:"Le mot de passe doit contenir au moins 8 caract\xe8res",passwordMismatch:"Les mots de passe ne correspondent pas",currentPasswordRequired:"Le mot de passe actuel est requis",updateFailed:"\xc9chec de la mise \xe0 jour"}},admin:{title:"Administration",suggestions:"Suggestions",users:"Utilisateurs",stats:{total:"Total suggestions",open:"Ouvertes",done:"Termin\xe9es",votes:"Total votes",users:"Utilisateurs"},table:{votes:"Votes",suggestion:"Suggestion",status:"Statut",created:"Cr\xe9\xe9",actions:"Actions",author:"Auteur",email:"Email",isAdmin:"Admin"},actions:{edit:"Modifier",delete:"Supprimer",markDone:"Marquer termin\xe9",reopen:"R\xe9ouvrir",save:"Enregistrer",confirmDelete:"\xcates-vous s\xfbr de vouloir supprimer cette suggestion ?",toggleAdmin:"Basculer admin"},markDone:{title:"Marquer comme termin\xe9",addLinks:"Ajouter des liens (optionnel)",platform:"Plateforme",url:"URL",addLink:"+ Ajouter un lien",confirm:"Confirmer",searchContent:"Rechercher contenu",closeSearch:"Fermer la recherche"},contentSearch:{placeholder:"Rechercher dans le blog et YouTube...",search:"Rechercher",searching:"...",noResults:"Aucun r\xe9sultat trouv\xe9"}},errors:{authRequired:"Veuillez vous connecter pour continuer",adminRequired:"Acc\xe8s administrateur requis",signInFailed:"\xc9chec de la connexion. Veuillez r\xe9essayer.",generic:"Une erreur est survenue. Veuillez r\xe9essayer.",sessionExpired:"Votre session a expir\xe9. Veuillez vous reconnecter."},platforms:{youtube:"YouTube",twitter:"Twitter/X",blog:"Blog",other:"Autre"}},en:{site:{name:"Ideas",description:"Suggest and vote on topics"},nav:{admin:"Admin",signIn:"Sign In",signOut:"Sign Out"},home:{title:"Topic Suggestions",subtitle:"Help shape the content you want to see.",suggestTopic:"Suggest Topic",noSuggestions:"No suggestions yet. Be the first to suggest a topic!",filterAll:"All",filterOpen:"Open",filterDone:"Done",sortBy:"Sort by:",topVoted:"Top Voted",newest:"Newest"},suggestion:{backToList:"← Back to suggestions",by:"by",votes:"votes",contentAvailable:"Content available",status:{open:"Open",done:"Done"}},comments:{title:"Comments",placeholder:"Add a comment...",submit:"Comment",submitting:"Sending...",empty:"No comments yet",loginToComment:"Sign in to comment",deleteTitle:"Delete comment",deleteConfirm:"This action cannot be undone. Are you sure you want to delete this comment?",deleteButton:"Delete",cancelButton:"Cancel",edited:"edited"},form:{title:"Suggest a Topic",titleLabel:"Title",titlePlaceholder:"What topic would you like to see?",titleHint:"5-200 characters",descriptionLabel:"Description (optional)",descriptionPlaceholder:"Add more details about your suggestion...",descriptionHint:"Max 2000 characters",submit:"Submit",submitting:"Submitting...",relatedContent:"Interested in this topic?",searching:"Searching...",existingSuggestions:"Similar suggestions",existingContent:"Existing content",relatedContentHint:"Vote for an existing suggestion or submit yours if it's different."},auth:{signIn:"Sign In",signUp:"Create Account",email:"Email",password:"Password",confirmPassword:"Confirm Password",username:"Username",cancel:"Cancel",loading:"Loading...",noAccount:"Don't have an account? Sign Up",hasAccount:"Already have an account? Sign In"},account:{title:"My Account",profile:"Profile",changeAvatar:"Change avatar",uploadAvatar:"Upload image",removeAvatar:"Remove",usernameLabel:"Username",emailLabel:"Email",currentPassword:"Current password",newPassword:"New password",confirmNewPassword:"Confirm new password",saveChanges:"Save changes",saving:"Saving...",saved:"Changes saved",changePassword:"Change password",dangerZone:"Danger zone",deleteAccount:"Delete account",errors:{usernameTooShort:"Username must be at least 3 characters",usernameTooLong:"Username must be less than 50 characters",invalidEmail:"Invalid email",passwordTooShort:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",currentPasswordRequired:"Current password is required",updateFailed:"Update failed"}},admin:{title:"Admin Dashboard",suggestions:"Suggestions",users:"Users",stats:{total:"Total Suggestions",open:"Open",done:"Done",votes:"Total Votes",users:"Users"},table:{votes:"Votes",suggestion:"Suggestion",status:"Status",created:"Created",actions:"Actions",author:"Author",email:"Email",isAdmin:"Admin"},actions:{edit:"Edit",delete:"Delete",markDone:"Mark Done",reopen:"Reopen",save:"Save",confirmDelete:"Are you sure you want to delete this suggestion?",toggleAdmin:"Toggle Admin"},markDone:{title:"Mark as Done",addLinks:"Add links (optional)",platform:"Platform",url:"URL",addLink:"+ Add link",confirm:"Confirm",searchContent:"Search content",closeSearch:"Close search"},contentSearch:{placeholder:"Search blog and YouTube...",search:"Search",searching:"...",noResults:"No results found"}},errors:{authRequired:"Please sign in to continue",adminRequired:"Admin access required",signInFailed:"Sign in failed. Please try again.",generic:"Something went wrong. Please try again.",sessionExpired:"Your session has expired. Please sign in again."},platforms:{youtube:"YouTube",twitter:"Twitter/X",blog:"Blog",other:"Other"}}};function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fr";return s[e]||s.fr}}},e=>{e.O(0,[909,218,441,255,358],()=>e(e.s=8693)),_N_E=e.O()}]);