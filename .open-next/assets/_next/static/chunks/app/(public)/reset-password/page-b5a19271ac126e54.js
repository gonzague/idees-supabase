(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{529:(e,t,a)=>{Promise.resolve().then(a.bind(a,9213))},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var r=a(5155),s=a(2115),d=a(7531);let l=s.forwardRef((e,t)=>{let{className:a,variant:s="default",size:l="default",...i}=e;return(0,r.jsx)("button",{className:(0,d.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",{"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-indigo-500/25":"default"===s,"border border-slate-200 dark:border-slate-700 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-700 hover:text-slate-900 dark:text-gray-100 hover:border-slate-300 dark:hover:border-slate-600":"outline"===s,"hover:bg-slate-100 dark:hover:bg-gray-800 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-white":"ghost"===s,"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-500/25":"destructive"===s},{"h-10 px-4 py-2":"default"===l,"h-8 px-3 text-sm":"sm"===l,"h-12 px-6 text-lg":"lg"===l,"h-10 w-10":"icon"===l},a),ref:t,...i})});l.displayName="Button"},5142:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(5155),s=a(2115),d=a(7531);let l=s.forwardRef((e,t)=>{let{className:a,error:s,...l}=e;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("input",{className:(0,d.cn)("flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2","text-sm text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",s&&"border-red-500 focus:ring-red-400",a),ref:t,...l}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:s})]})});l.displayName="Input"},7531:(e,t,a)=>{"use strict";a.d(t,{cn:()=>d});var r=a(2821),s=a(5889);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},9213:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(5155),s=a(2115),d=a(63),l=a(5417);let i=null;var o=a(926);let n=(0,o.createServerReference)("60df0ef15221343b63aea486fcab7ca3ff7b047531",o.callServer,void 0,o.findSourceMapURL,"confirmPasswordReset");var c=a(3998),u=a(5142);function x(){let e=(0,d.useRouter)(),[t,a]=(0,s.useState)(""),[o,x]=(0,s.useState)(""),[m,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[v,w]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=i||(i=(0,l.createBrowserClient)("https://oxjldqwvwvugupagaplq.supabase.co","sb_publishable_fwkmmxPGRcL9odtCJKyU6A_aOG_tLvO"));e.auth.onAuthStateChange(async e=>{"PASSWORD_RECOVERY"===e&&w(!0)}),e.auth.getSession().then(e=>{let{data:{session:t}}=e;t?w(!0):w(!1)})},[]);let y=async e=>{e.preventDefault(),h(null),f(!0);let a=await n(t,o);a.error?h(a.error):b(!0),f(!1)};return null===v?(0,r.jsx)("div",{className:"max-w-md mx-auto mt-16 p-6",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})})})}):!1===v?(0,r.jsx)("div",{className:"max-w-md mx-auto mt-16 p-6",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Lien invalide"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Ce lien de r\xe9initialisation est invalide ou a expir\xe9."}),(0,r.jsx)(c.$,{onClick:()=>e.push("/"),children:"Retour \xe0 l'accueil"})]})}):g?(0,r.jsx)("div",{className:"max-w-md mx-auto mt-16 p-6",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Mot de passe modifi\xe9"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Votre mot de passe a \xe9t\xe9 modifi\xe9 avec succ\xe8s. Vous pouvez maintenant vous connecter."}),(0,r.jsx)(c.$,{onClick:()=>e.push("/"),children:"Retour \xe0 l'accueil"})]})}):(0,r.jsx)("div",{className:"max-w-md mx-auto mt-16 p-6",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Nouveau mot de passe"}),m&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg text-sm",children:m}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nouveau mot de passe"}),(0,r.jsx)(u.p,{type:"password",value:t,onChange:e=>a(e.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmer le mot de passe"}),(0,r.jsx)(u.p,{type:"password",value:o,onChange:e=>x(e.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),(0,r.jsx)(c.$,{type:"submit",disabled:p,className:"w-full",children:p?"Modification...":"Modifier le mot de passe"})]})]})})}}},e=>{e.O(0,[909,111,441,255,358],()=>e(e.s=529)),_N_E=e.O()}]);