"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{63:(e,t,r)=>{var s=r(7260);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1158:(e,t,r)=>{r.d(t,{H:()=>n});var s=r(926);let n=(0,s.createServerReference)("401c702df1e1d6298b78609b78e35b9f73717d803b",s.callServer,void 0,s.findSourceMapURL,"signUp")},3001:(e,t,r)=>{r.d(t,{UserMenu:()=>c});var s=r(5155),n=r(2619),o=r.n(n),a=r(926);let i=(0,a.createServerReference)("00816e2b97a256f2471718e89cb68264b16afc7ac1",a.callServer,void 0,a.findSourceMapURL,"signOut");var l=r(3998),u=r(7035),d=r(9516);function c(e){let{profile:t}=e,r=(0,d.t)();return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(o(),{href:"/account",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[(0,s.jsx)(u.H,{profile:t,size:"sm"}),(0,s.jsxs)("span",{className:"text-sm font-medium hidden sm:inline text-slate-700 dark:text-slate-300",children:["@",t.username]})]}),(0,s.jsx)("form",{action:i,children:(0,s.jsx)(l.$,{type:"submit",variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:r.nav.signOut})})]})}},3998:(e,t,r)=>{r.d(t,{$:()=>a});var s=r(5155),n=r(2115),o=r(7531);let a=n.forwardRef((e,t)=>{let{className:r,variant:n="default",size:a="default",...i}=e;return(0,s.jsx)("button",{className:(0,o.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",{"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-indigo-500/25":"default"===n,"border border-slate-200 dark:border-slate-700 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-700 hover:text-slate-900 dark:text-gray-100 hover:border-slate-300 dark:hover:border-slate-600":"outline"===n,"hover:bg-slate-100 dark:hover:bg-gray-800 text-slate-600 dark:text-gray-300 hover:text-slate-900 dark:hover:text-white":"ghost"===n,"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-500/25":"destructive"===n},{"h-10 px-4 py-2":"default"===a,"h-8 px-3 text-sm":"sm"===a,"h-12 px-6 text-lg":"lg"===a,"h-10 w-10":"icon"===a},r),ref:t,...i})});a.displayName="Button"},4466:(e,t,r)=>{r.d(t,{X:()=>n}),r(5155);var s=r(2115);function n(e){let{onVerify:t,onError:r,onExpire:n}=e,o=(0,s.useRef)(null),a=((0,s.useRef)(null),(0,s.useCallback)(()=>{o.current&&window.turnstile},["",t,r,n]));return(0,s.useEffect)(()=>{},["",a]),null}},4652:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return i}});let s=r(8140),n=r(5040),o=r(1356),a=s._(r(1124));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=o.Image},5142:(e,t,r)=>{r.d(t,{p:()=>a});var s=r(5155),n=r(2115),o=r(7531);let a=n.forwardRef((e,t)=>{let{className:r,error:n,...a}=e;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("input",{className:(0,o.cn)("flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2","text-sm text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",n&&"border-red-500 focus:ring-red-400",r),ref:t,...a}),n&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:n})]})});a.displayName="Input"},5239:(e,t,r)=>{r.d(t,{default:()=>n.a});var s=r(4652),n=r.n(s)},6709:(e,t,r)=>{r.d(t,{SignInButton:()=>h});var s=r(5155),n=r(2115),o=r(7650),a=r(63),i=r(926);let l=(0,i.createServerReference)("409f178795fb143236d69870d6bd504d34bd4ace86",i.callServer,void 0,i.findSourceMapURL,"requestPasswordReset");var u=r(1158),d=r(9286),c=r(3998),m=r(5142),g=r(4466),p=r(9516);function h(){let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)("signIn"),[h,f]=(0,n.useState)(null),[v,b]=(0,n.useState)(null),[x,w]=(0,n.useState)(!1),[S,y]=(0,n.useState)(!1),[C,A]=(0,n.useState)(null),k=(0,a.useRouter)(),j=(0,p.t)();(0,n.useEffect)(()=>{y(!0)},[]);let P=(0,n.useCallback)(e=>{A(e)},[]),T=async e=>{e.preventDefault(),f(null),b(null),w(!0);let s=new FormData(e.currentTarget);if(C&&s.set("turnstileToken",C),"forgotPassword"===r){let e=await l(s);e.error?f(e.error):b("Si un compte existe avec cet email, vous recevrez un lien de r\xe9initialisation."),w(!1);return}let n="signUp"===r?await (0,u.H)(s):await (0,d.J)(s);n.error?f(n.error):(k.refresh(),t(!1)),w(!1)},R=()=>{t(!1),f(null),b(null),i("signIn")},N=e=>{i(e),f(null),b(null),A(null)},U=e&&S?(0,o.createPortal)((0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[100]",onClick:e=>e.target===e.currentTarget&&R(),children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-sm w-full p-6 shadow-xl animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:(()=>{switch(r){case"signUp":return j.auth.signUp;case"forgotPassword":return"Mot de passe oubli\xe9";default:return j.auth.signIn}})()}),h&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg text-sm",children:h}),v&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg text-sm",children:v}),"forgotPassword"===r&&v?(0,s.jsx)(c.$,{onClick:()=>N("signIn"),className:"w-full",children:"Retour \xe0 la connexion"}):(0,s.jsxs)("form",{onSubmit:T,className:"space-y-3",children:["signUp"===r&&(0,s.jsx)(m.p,{name:"username",type:"text",placeholder:j.auth.username,required:!0,minLength:3,autoComplete:"username"}),(0,s.jsx)(m.p,{name:"email",type:"email",placeholder:j.auth.email,required:!0,autoComplete:"email"}),"forgotPassword"!==r&&(0,s.jsx)(m.p,{name:"password",type:"password",placeholder:j.auth.password,required:!0,minLength:8,autoComplete:"signUp"===r?"new-password":"current-password"}),"signUp"===r&&(0,s.jsx)(m.p,{name:"passwordConfirm",type:"password",placeholder:j.auth.confirmPassword,required:!0,minLength:8,autoComplete:"new-password"}),"forgotPassword"!==r&&(0,s.jsx)(g.X,{onVerify:P}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)(c.$,{type:"submit",disabled:x,className:"flex-1",children:x?j.auth.loading:"forgotPassword"===r?"Envoyer le lien":"signUp"===r?j.auth.signUp:j.auth.signIn}),(0,s.jsx)(c.$,{type:"button",variant:"outline",onClick:R,children:j.auth.cancel})]})]}),"signIn"===r&&(0,s.jsx)("button",{type:"button",onClick:()=>N("forgotPassword"),className:"mt-3 text-sm text-slate-500 hover:text-indigo-600 w-full text-center transition-colors",children:"Mot de passe oubli\xe9 ?"}),"forgotPassword"!==r&&(0,s.jsx)("button",{type:"button",onClick:()=>N("signUp"===r?"signIn":"signUp"),className:"mt-3 text-sm text-slate-500 hover:text-indigo-600 w-full text-center transition-colors",children:"signUp"===r?j.auth.hasAccount:j.auth.noAccount}),"forgotPassword"===r&&!v&&(0,s.jsx)("button",{type:"button",onClick:()=>N("signIn"),className:"mt-3 text-sm text-slate-500 hover:text-indigo-600 w-full text-center transition-colors",children:"Retour \xe0 la connexion"})]})}),document.body):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.$,{onClick:()=>t(!0),variant:"default",size:"sm",children:j.nav.signIn}),U]})}},7035:(e,t,r)=>{r.d(t,{H:()=>l});var s=r(5155),n=r(5239),o=r(7531);let a={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-12 h-12 text-lg"},i={sm:24,md:32,lg:48};function l(e){var t;let{profile:r,size:l="md",className:u}=e,d=r.avatar_url||null;return(0,s.jsx)("div",{className:(0,o.cn)(a[l],"rounded-full overflow-hidden bg-gradient-to-br from-indigo-100 to-indigo-200 flex-shrink-0 relative",u),children:d?(0,s.jsx)(n.default,{src:d,alt:r.username||"Avatar",width:i[l],height:i[l],className:"w-full h-full object-cover",unoptimized:!0}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-indigo-600 font-semibold",children:(null==(t=r.username)?void 0:t.charAt(0).toUpperCase())||"?"})})}},7531:(e,t,r)=>{r.d(t,{cn:()=>o});var s=r(2821),n=r(5889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},9286:(e,t,r)=>{r.d(t,{J:()=>n});var s=r(926);let n=(0,s.createServerReference)("40b484ad547e975adbd6b6e55f4954bfc9c6be9b7e",s.callServer,void 0,s.findSourceMapURL,"signIn")},9516:(e,t,r)=>{r.d(t,{t:()=>n});let s={fr:{site:{name:"Id\xe9es",description:"Proposez et votez pour des sujets"},nav:{admin:"Administration",signIn:"Connexion",signOut:"D\xe9connexion"},home:{title:"Suggestions de sujets",subtitle:"Aidez \xe0 fa\xe7onner le contenu que vous souhaitez voir.",suggestTopic:"Proposer un sujet",noSuggestions:"Aucune suggestion pour le moment. Soyez le premier \xe0 proposer un sujet !",filterAll:"Tous",filterOpen:"Ouvert",filterDone:"Termin\xe9",sortBy:"Trier par :",topVoted:"Plus vot\xe9s",newest:"R\xe9cents"},suggestion:{backToList:"← Retour aux suggestions",by:"par",votes:"votes",contentAvailable:"Contenu disponible",status:{open:"Ouvert",done:"Termin\xe9"}},comments:{title:"Commentaires",placeholder:"Ajouter un commentaire...",submit:"Commenter",submitting:"Envoi...",empty:"Aucun commentaire pour le moment",loginToComment:"Connectez-vous pour commenter",deleteTitle:"Supprimer le commentaire",deleteConfirm:"Cette action est irr\xe9versible. Voulez-vous vraiment supprimer ce commentaire ?",deleteButton:"Supprimer",cancelButton:"Annuler",edited:"modifi\xe9"},form:{title:"Proposer un sujet",titleLabel:"Titre",titlePlaceholder:"Quel sujet aimeriez-vous voir abord\xe9 ?",titleHint:"5-200 caract\xe8res",descriptionLabel:"Description (optionnel)",descriptionPlaceholder:"Ajoutez plus de d\xe9tails sur votre suggestion...",descriptionHint:"Max 2000 caract\xe8res",submit:"Soumettre",submitting:"Envoi...",relatedContent:"Ce sujet vous int\xe9resse ?",searching:"Recherche...",existingSuggestions:"Suggestions similaires",existingContent:"Contenu existant",relatedContentHint:"Votez pour une suggestion existante ou soumettez la v\xf4tre si elle est diff\xe9rente."},auth:{signIn:"Connexion",signUp:"Cr\xe9er un compte",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",username:"Nom d'utilisateur",cancel:"Annuler",loading:"Chargement...",noAccount:"Pas de compte ? Inscrivez-vous",hasAccount:"D\xe9j\xe0 un compte ? Connectez-vous"},account:{title:"Mon compte",profile:"Profil",changeAvatar:"Changer l'avatar",uploadAvatar:"T\xe9l\xe9charger une image",removeAvatar:"Supprimer",usernameLabel:"Nom d'utilisateur",emailLabel:"Email",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",confirmNewPassword:"Confirmer le nouveau mot de passe",saveChanges:"Enregistrer les modifications",saving:"Enregistrement...",saved:"Modifications enregistr\xe9es",changePassword:"Changer le mot de passe",dangerZone:"Zone de danger",deleteAccount:"Supprimer le compte",errors:{usernameTooShort:"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res",usernameTooLong:"Le nom d'utilisateur doit contenir moins de 50 caract\xe8res",invalidEmail:"Email invalide",passwordTooShort:"Le mot de passe doit contenir au moins 8 caract\xe8res",passwordMismatch:"Les mots de passe ne correspondent pas",currentPasswordRequired:"Le mot de passe actuel est requis",updateFailed:"\xc9chec de la mise \xe0 jour"}},admin:{title:"Administration",suggestions:"Suggestions",users:"Utilisateurs",stats:{total:"Total suggestions",open:"Ouvertes",done:"Termin\xe9es",votes:"Total votes",users:"Utilisateurs"},table:{votes:"Votes",suggestion:"Suggestion",status:"Statut",created:"Cr\xe9\xe9",actions:"Actions",author:"Auteur",email:"Email",isAdmin:"Admin"},actions:{edit:"Modifier",delete:"Supprimer",markDone:"Marquer termin\xe9",reopen:"R\xe9ouvrir",save:"Enregistrer",confirmDelete:"\xcates-vous s\xfbr de vouloir supprimer cette suggestion ?",toggleAdmin:"Basculer admin"},markDone:{title:"Marquer comme termin\xe9",addLinks:"Ajouter des liens (optionnel)",platform:"Plateforme",url:"URL",addLink:"+ Ajouter un lien",confirm:"Confirmer",searchContent:"Rechercher contenu",closeSearch:"Fermer la recherche"},contentSearch:{placeholder:"Rechercher dans le blog et YouTube...",search:"Rechercher",searching:"...",noResults:"Aucun r\xe9sultat trouv\xe9"}},errors:{authRequired:"Veuillez vous connecter pour continuer",adminRequired:"Acc\xe8s administrateur requis",signInFailed:"\xc9chec de la connexion. Veuillez r\xe9essayer.",generic:"Une erreur est survenue. Veuillez r\xe9essayer.",sessionExpired:"Votre session a expir\xe9. Veuillez vous reconnecter."},platforms:{youtube:"YouTube",twitter:"Twitter/X",blog:"Blog",other:"Autre"}},en:{site:{name:"Ideas",description:"Suggest and vote on topics"},nav:{admin:"Admin",signIn:"Sign In",signOut:"Sign Out"},home:{title:"Topic Suggestions",subtitle:"Help shape the content you want to see.",suggestTopic:"Suggest Topic",noSuggestions:"No suggestions yet. Be the first to suggest a topic!",filterAll:"All",filterOpen:"Open",filterDone:"Done",sortBy:"Sort by:",topVoted:"Top Voted",newest:"Newest"},suggestion:{backToList:"← Back to suggestions",by:"by",votes:"votes",contentAvailable:"Content available",status:{open:"Open",done:"Done"}},comments:{title:"Comments",placeholder:"Add a comment...",submit:"Comment",submitting:"Sending...",empty:"No comments yet",loginToComment:"Sign in to comment",deleteTitle:"Delete comment",deleteConfirm:"This action cannot be undone. Are you sure you want to delete this comment?",deleteButton:"Delete",cancelButton:"Cancel",edited:"edited"},form:{title:"Suggest a Topic",titleLabel:"Title",titlePlaceholder:"What topic would you like to see?",titleHint:"5-200 characters",descriptionLabel:"Description (optional)",descriptionPlaceholder:"Add more details about your suggestion...",descriptionHint:"Max 2000 characters",submit:"Submit",submitting:"Submitting...",relatedContent:"Interested in this topic?",searching:"Searching...",existingSuggestions:"Similar suggestions",existingContent:"Existing content",relatedContentHint:"Vote for an existing suggestion or submit yours if it's different."},auth:{signIn:"Sign In",signUp:"Create Account",email:"Email",password:"Password",confirmPassword:"Confirm Password",username:"Username",cancel:"Cancel",loading:"Loading...",noAccount:"Don't have an account? Sign Up",hasAccount:"Already have an account? Sign In"},account:{title:"My Account",profile:"Profile",changeAvatar:"Change avatar",uploadAvatar:"Upload image",removeAvatar:"Remove",usernameLabel:"Username",emailLabel:"Email",currentPassword:"Current password",newPassword:"New password",confirmNewPassword:"Confirm new password",saveChanges:"Save changes",saving:"Saving...",saved:"Changes saved",changePassword:"Change password",dangerZone:"Danger zone",deleteAccount:"Delete account",errors:{usernameTooShort:"Username must be at least 3 characters",usernameTooLong:"Username must be less than 50 characters",invalidEmail:"Invalid email",passwordTooShort:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",currentPasswordRequired:"Current password is required",updateFailed:"Update failed"}},admin:{title:"Admin Dashboard",suggestions:"Suggestions",users:"Users",stats:{total:"Total Suggestions",open:"Open",done:"Done",votes:"Total Votes",users:"Users"},table:{votes:"Votes",suggestion:"Suggestion",status:"Status",created:"Created",actions:"Actions",author:"Author",email:"Email",isAdmin:"Admin"},actions:{edit:"Edit",delete:"Delete",markDone:"Mark Done",reopen:"Reopen",save:"Save",confirmDelete:"Are you sure you want to delete this suggestion?",toggleAdmin:"Toggle Admin"},markDone:{title:"Mark as Done",addLinks:"Add links (optional)",platform:"Platform",url:"URL",addLink:"+ Add link",confirm:"Confirm",searchContent:"Search content",closeSearch:"Close search"},contentSearch:{placeholder:"Search blog and YouTube...",search:"Search",searching:"...",noResults:"No results found"}},errors:{authRequired:"Please sign in to continue",adminRequired:"Admin access required",signInFailed:"Sign in failed. Please try again.",generic:"Something went wrong. Please try again.",sessionExpired:"Your session has expired. Please sign in again."},platforms:{youtube:"YouTube",twitter:"Twitter/X",blog:"Blog",other:"Other"}}};function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fr";return s[e]||s.fr}}}]);