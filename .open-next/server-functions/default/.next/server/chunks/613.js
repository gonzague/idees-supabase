"use strict";exports.id=613,exports.ids=[613],exports.modules={10564:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(21124),e=c(38301);let f={tech:["\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDDA5️","⌨️","\uD83D\uDDB1️","\uD83D\uDCBE","\uD83D\uDCC0","\uD83D\uDD0C","\uD83D\uDD0B","\uD83D\uDCE1","\uD83D\uDEF0️","\uD83E\uDD16","\uD83E\uDDE0","⚙️","\uD83D\uDD27","\uD83D\uDD29"],media:["\uD83C\uDFAC","\uD83C\uDFA5","\uD83D\uDCFA","\uD83D\uDCFB","\uD83C\uDF99️","\uD83C\uDFA7","\uD83C\uDFA4","\uD83D\uDCF8","\uD83D\uDCF9","\uD83C\uDF9E️","\uD83D\uDCFD️","\uD83C\uDFB5","\uD83C\uDFB6","\uD83C\uDFBC","\uD83C\uDFB9","\uD83C\uDFB8"],creative:["\uD83C\uDFA8","✏️","\uD83D\uDD8C️","\uD83D\uDD8D️","\uD83D\uDCDD","✍️","\uD83C\uDFAD","\uD83C\uDFAA","\uD83C\uDF9F️","\uD83C\uDFC6","\uD83E\uDD47","\uD83C\uDFAF","\uD83C\uDFB2","♟️","\uD83E\uDDE9","\uD83E\uDE84"],home:["\uD83C\uDFE0","\uD83C\uDFE1","\uD83C\uDFE2","\uD83C\uDFD7️","\uD83D\uDECB️","\uD83D\uDECF️","\uD83D\uDEBF","\uD83D\uDEC1","\uD83E\uDEB4","\uD83C\uDF31","\uD83C\uDF3F","\uD83E\uDEB5","\uD83D\uDD25","\uD83D\uDCA1","\uD83D\uDD26","\uD83D\uDD6F️"],food:["\uD83C\uDF73","\uD83C\uDF55","\uD83C\uDF54","\uD83C\uDF2E","\uD83C\uDF5C","\uD83C\uDF63","\uD83C\uDF70","☕","\uD83C\uDF77","\uD83C\uDF7A","\uD83E\uDDC1","\uD83C\uDF69","\uD83E\uDD57","\uD83E\uDD58","\uD83E\uDDC7","\uD83E\uDD50"],sports:["⚽","\uD83C\uDFC0","\uD83C\uDFC8","⚾","\uD83C\uDFBE","\uD83C\uDFD0","\uD83C\uDFD3","\uD83C\uDFF8","\uD83E\uDD4A","\uD83C\uDFCB️","\uD83D\uDEB4","\uD83C\uDFC3","\uD83E\uDDD7","\uD83C\uDFC4","\uD83C\uDFBF","⛷️"],travel:["✈️","\uD83D\uDE80","\uD83D\uDE82","\uD83D\uDE97","\uD83D\uDEA2","\uD83D\uDEF8","\uD83D\uDDFA️","\uD83E\uDDED","\uD83C\uDFD4️","\uD83C\uDFD6️","\uD83C\uDF34","\uD83D\uDDFC","\uD83D\uDDFD","\uD83C\uDF0D","\uD83C\uDF0E","\uD83C\uDF0F"],nature:["\uD83C\uDF33","\uD83C\uDF32","\uD83C\uDF35","\uD83C\uDF38","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF39","\uD83C\uDF40","\uD83C\uDF41","\uD83C\uDF42","\uD83C\uDF08","☀️","\uD83C\uDF19","⭐","\uD83C\uDF1F","\uD83D\uDCAB"],animals:["\uD83D\uDC36","\uD83D\uDC31","\uD83D\uDC2D","\uD83D\uDC39","\uD83D\uDC30","\uD83E\uDD8A","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83E\uDD81","\uD83D\uDC2F","\uD83D\uDC2E","\uD83D\uDC37","\uD83D\uDC38","\uD83E\uDD8B","\uD83D\uDC1D"],symbols:["❤️","\uD83D\uDC9C","\uD83D\uDC99","\uD83D\uDC9A","\uD83D\uDC9B","\uD83E\uDDE1","⚡","\uD83D\uDCA5","✨","\uD83D\uDD25","\uD83D\uDCAF","✅","❌","⭕","❓","❗"]},g={tech:"Tech",media:"Media",creative:"Creatif",home:"Maison",food:"Food",sports:"Sport",travel:"Voyage",nature:"Nature",animals:"Animaux",symbols:"Symboles"};function h({value:a,onChange:b}){let[c,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)("tech"),k=Object.keys(f);return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{type:"button",onClick:()=>h(!c),className:"w-10 h-10 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex items-center justify-center text-xl hover:border-indigo-300 dark:hover:border-indigo-600 transition-colors",children:a||"➕"}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),(0,d.jsxs)("div",{className:"absolute top-12 left-0 z-50 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl w-72",children:[(0,d.jsx)("div",{className:"flex overflow-x-auto border-b border-slate-200 dark:border-slate-700 p-1 gap-1 scrollbar-hide",children:k.map(a=>(0,d.jsx)("button",{type:"button",onClick:()=>j(a),className:`px-2 py-1 text-xs rounded whitespace-nowrap transition-colors ${i===a?"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:g[a]},a))}),(0,d.jsxs)("div",{className:"p-2",children:[a&&(0,d.jsxs)("button",{type:"button",onClick:()=>{b(""),h(!1)},className:"w-full mb-2 px-2 py-1 text-xs text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded flex items-center justify-center gap-1",children:[(0,d.jsx)("span",{children:"✕"})," Supprimer"]}),(0,d.jsx)("div",{className:"grid grid-cols-8 gap-1",children:f[i].map(c=>(0,d.jsx)("button",{type:"button",onClick:()=>{b(c),h(!1)},className:`w-7 h-7 rounded hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-center text-lg transition-colors ${a===c?"bg-indigo-100 dark:bg-indigo-900/50 ring-2 ring-indigo-500":""}`,children:c},c))})]})]})]})]})}},25911:(a,b,c)=>{c.d(b,{a:()=>e});var d=c(85708);let e=(0,d.createServerReference)("60353dffb94112634b8981c06471a8989e82a741ce",d.callServer,void 0,d.findSourceMapURL,"markSuggestionDone")},32958:(a,b,c)=>{c.d(b,{o:()=>q});var d=c(21124),e=c(38301);c(23312);var f=c(35284),g=c(93758),h=c(68254),i=c(10564),j=c(85708);j.callServer,j.findSourceMapURL;var k=c(68893),l=c(37240),m=c(25911),n=c(87225),o=c(32987),p=c(67073);function q({suggestion:a,tags:b,onClose:c,showLinks:j=!1}){let[k,m]=(0,e.useTransition)(),[n,q]=(0,e.useState)(a.title),[r,s]=(0,e.useState)(a.description||""),[t,u]=(0,e.useState)(a.tags?.map(a=>a.id)||[]),[v,w]=(0,e.useState)(a.icon||""),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)(a.links||[]),[B,C]=(0,e.useState)(""),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(a.status),[H,I]=(0,e.useState)(!1),J=(0,p.t)(),K=async a=>{E(!0);let b=await (0,l.M)(a);b.success?A(b=>b.filter(b=>b.id!==a)):y(b.error||"Erreur lors de la suppression du lien"),E(!1)};return i.A,J.form.titleLabel,g.p,J.form.titlePlaceholder,o.L0,o.Dr,J.form.titleHint,J.form.descriptionLabel,h.T,J.form.descriptionPlaceholder,o.u9,J.form.descriptionHint,b.map(a=>(0,d.jsxs)("label",{className:`px-3 py-1.5 rounded-full text-sm font-medium cursor-pointer transition-all ${t.includes(a.id)?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,d.jsx)("input",{type:"checkbox",checked:t.includes(a.id),onChange:()=>{var b;return b=a.id,void u(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"sr-only"}),a.name]},a.id)),j&&(d.Fragment,z.length>0&&z.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,d.jsx)("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-600 rounded",children:o.YN[a.platform]||a.platform}),(0,d.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-sm text-indigo-600 dark:text-indigo-400 hover:underline truncate",title:a.url,children:a.title||a.url}),(0,d.jsx)("button",{type:"button",onClick:()=>K(a.id),disabled:D,className:"text-red-500 hover:text-red-700 disabled:opacity-50 p-1",title:"Supprimer",children:"\xd7"})]},a.id)),g.p,f.$,D||!B.trim()),f.$,f.$,null}},32987:(a,b,c)=>{c.d(b,{Dr:()=>f,L0:()=>e,YN:()=>h,ni:()=>i,u9:()=>g,yC:()=>k});var d=c(67073);(0,d.t)().site.name,(0,d.t)().site.description;let e=5,f=200,g=2e3,h={youtube:"YouTube",twitter:"Twitter/X",blog:"Blog",other:"Autre"},i={youtube:"\uD83D\uDCFA",twitter:"\uD83D\uDC26",blog:"\uD83D\uDCDD",other:"\uD83D\uDD17"},j=["bg-blue-100 text-blue-700","bg-green-100 text-green-700","bg-purple-100 text-purple-700","bg-orange-100 text-orange-700","bg-pink-100 text-pink-700","bg-cyan-100 text-cyan-700","bg-yellow-100 text-yellow-700"];function k(a){return j[a%j.length]}},37240:(a,b,c)=>{c.d(b,{M:()=>e});var d=c(85708);let e=(0,d.createServerReference)("4085570c341b33811143c146eee72d1e8e904144b3",d.callServer,void 0,d.findSourceMapURL,"deleteLinkFromSuggestion")},41062:(a,b,c)=>{c.d(b,{At:()=>i,hn:()=>h,i_:()=>g,qr:()=>j});var d=c(75879);c(68633);var e=c(16780),f=c(48152);async function g(a){let b=await (0,f.HW)();if(!b)return{success:!1,error:"Vous devez \xeatre connect\xe9"};try{let c=await (0,f.Ri)(),{data:d}=await c.from("suggestion_follows").select("id").eq("user_id",b.id).eq("suggestion_id",a).maybeSingle();if(d)return{success:!0};let{error:g}=await c.from("suggestion_follows").insert({user_id:b.id,suggestion_id:a});if(g)throw g;return(0,e.revalidatePath)(`/suggestions/${a}`),{success:!0}}catch(a){return console.error("Follow suggestion error:",a),{success:!1,error:"Erreur lors du suivi"}}}async function h(a){let b=await (0,f.HW)();if(!b)return{success:!1,error:"Vous devez \xeatre connect\xe9"};try{let c=await (0,f.Ri)(),{error:d}=await c.from("suggestion_follows").delete().eq("user_id",b.id).eq("suggestion_id",a);if(d)throw d;return(0,e.revalidatePath)(`/suggestions/${a}`),{success:!0}}catch(a){return console.error("Unfollow suggestion error:",a),{success:!1,error:"Erreur lors du d\xe9sabonnement"}}}async function i(a){try{let b=await (0,f.Ri)(),c=await (0,f.HW)(),{data:d,count:e}=await b.from("suggestion_follows").select("user_id",{count:"exact"}).eq("suggestion_id",a);return{isFollowing:!!c&&(d?.some(a=>a.user_id===c.id)||!1),followerCount:e||0}}catch(a){return console.error("Get follow status error:",a),{isFollowing:!1,followerCount:0}}}async function j(a){try{let b=await (0,f.Ri)(),{data:c}=await b.from("suggestion_follows").select("user_id").eq("suggestion_id",a);if(!c||0===c.length)return[];let d=c.map(a=>a.user_id),{data:e}=await b.from("profiles").select("id, username").in("id",d);if(!e)return[];let{data:{users:g},error:h}=await b.auth.admin.listUsers();if(h||!g)return console.error("Error fetching user emails:",h),[];let i=new Map(g.map(a=>[a.id,a.email]));return e.map(a=>({id:a.id,email:i.get(a.id)||"",username:a.username||""})).filter(a=>a.email)}catch(a){return console.error("Get followers with email error:",a),[]}}(0,c(51669).D)([g,h,i,j]),(0,d.A)(g,"40fccf6c2458b7412e69ecf6bca5400f3ac3c5c0b1",null),(0,d.A)(h,"40fb480dd9cadb03c7a4e359774fcdb1ed42a9e245",null),(0,d.A)(i,"400a8fce19cf6cba3270d2fcb2f7a40309006caca4",null),(0,d.A)(j,"404305f5290f559afe12f138cebe09c23e458cea63",null)},52085:(a,b,c)=>{c.d(b,{cn:()=>f});var d=c(81171),e=c(11167);function f(...a){return(0,e.QP)((0,d.$)(a))}},67721:(a,b,c)=>{c.d(b,{T:()=>g});var d=c(21124),e=c(38301),f=c(35284);function g({isOpen:a,title:b,message:c,confirmText:g="Confirmer",cancelText:h="Annuler",onConfirm:i,onCancel:j,variant:k="danger"}){let l=(0,e.useRef)(null),m=(0,e.useRef)(null);return((0,e.useCallback)(a=>{"Escape"===a.key?j():"Enter"===a.key&&(a.preventDefault(),i())},[j,i]),a)?(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:j,children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200"}),(0,d.jsxs)("div",{ref:l,role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-title","aria-describedby":"confirm-message",className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 fade-in duration-200",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("h2",{id:"confirm-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:b}),(0,d.jsx)("p",{id:"confirm-message",className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:c}),(0,d.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,d.jsx)(f.$,{variant:"outline",onClick:j,children:h}),(0,d.jsx)(f.$,{ref:m,variant:"danger"===k?"destructive":"default",onClick:i,children:g})]})]})]}):null}},68254:(a,b,c)=>{c.d(b,{T:()=>g});var d=c(21124),e=c(38301),f=c(35595);let g=e.forwardRef(({className:a,error:b,...c},e)=>(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[100px] w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2","text-sm text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-500 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",b&&"border-red-500 focus:ring-red-400",a),ref:e,...c}),b&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:b})]}));g.displayName="Textarea"},68893:(a,b,c)=>{c.d(b,{x:()=>e});var d=c(85708);let e=(0,d.createServerReference)("60e9efd04e42ae2f549a02b366440f89953f79ae57",d.callServer,void 0,d.findSourceMapURL,"addLinkToSuggestion")},87225:(a,b,c)=>{c.d(b,{E:()=>e});var d=c(85708);let e=(0,d.createServerReference)("40a0212313b8bcff8a3d17a5e3ee925bf5c6ee312e",d.callServer,void 0,d.findSourceMapURL,"reopenSuggestion")}};